@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-slate-700;
  }

  body {
    @apply bg-slate-900 text-slate-100 antialiased;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
  }

  /* Performance-Optimierung: Reduziere backdrop-blur global für flüssigere Animationen */
  .backdrop-blur-sm {
    backdrop-filter: blur(4px) !important;
    -webkit-backdrop-filter: blur(4px) !important;
  }

  .backdrop-blur-xl {
    backdrop-filter: blur(8px) !important;
    -webkit-backdrop-filter: blur(8px) !important;
  }

  /* GPU-Beschleunigung für Modal-Container */
  .fixed.inset-0 {
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
  }

  /* Customized Selection */
  ::selection {
    @apply bg-primary-500/30 text-white;
  }

  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-slate-800/50;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-slate-600/80 rounded-full;
    border: 2px solid transparent;
    background-clip: padding-box;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-slate-500;
  }

  /* Focus visible for accessibility */
  :focus-visible {
    @apply outline-none ring-2 ring-primary-500 ring-offset-2 ring-offset-slate-900;
  }
}

@layer components {
  /* ==================== BUTTONS ==================== */
  .btn {
    @apply inline-flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-primary {
    @apply btn bg-gradient-to-r from-primary-600 to-primary-500 text-white hover:from-primary-500 hover:to-primary-400 focus:ring-primary-500 shadow-lg shadow-primary-600/25 hover:shadow-primary-500/40;
  }

  .btn-secondary {
    @apply btn bg-slate-700/80 text-slate-100 hover:bg-slate-600 focus:ring-slate-500 backdrop-blur-sm border border-slate-600/50;
  }

  .btn-danger {
    @apply btn bg-gradient-to-r from-red-600 to-red-500 text-white hover:from-red-500 hover:to-red-400 focus:ring-red-500 shadow-lg shadow-red-600/25;
  }

  .btn-success {
    @apply btn bg-gradient-to-r from-emerald-600 to-emerald-500 text-white hover:from-emerald-500 hover:to-emerald-400 focus:ring-emerald-500 shadow-lg shadow-emerald-600/25;
  }

  .btn-ghost {
    @apply btn bg-transparent text-slate-300 hover:bg-slate-800/80 hover:text-white focus:ring-slate-500;
  }

  .btn-sm {
    @apply px-3 py-1.5 text-xs;
  }

  .btn-lg {
    @apply px-6 py-3 text-base;
  }

  /* ==================== INPUTS ==================== */
  .input {
    @apply w-full px-4 py-2.5 text-sm bg-slate-800/80 border border-slate-600/50 rounded-xl text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500/50 focus:bg-slate-800 transition-all duration-200 backdrop-blur-sm;
  }

  .input-error {
    @apply border-red-500/50 focus:ring-red-500/50 focus:border-red-500/50;
  }

  .label {
    @apply block text-sm font-medium text-slate-300 mb-1.5;
  }

  /* ==================== CARDS ==================== */
  .card {
    @apply bg-slate-800/80 backdrop-blur-xl border border-slate-700/50 rounded-2xl shadow-xl shadow-black/20;
  }

  .card-header {
    @apply px-6 py-4 border-b border-slate-700/50;
  }

  .card-body {
    @apply p-6;
  }

  /* Glass Card Variant */
  .card-glass {
    @apply bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl shadow-xl;
  }

  /* Gradient Border Card */
  .card-gradient {
    @apply relative bg-slate-800/90 rounded-2xl overflow-hidden;
  }

  .card-gradient::before {
    content: '';
    @apply absolute inset-0 rounded-2xl p-[1px] bg-gradient-to-br from-primary-500/50 via-transparent to-purple-500/50;
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
  }

  /* ==================== BADGES ==================== */
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium backdrop-blur-sm;
  }

  .badge-primary {
    @apply badge bg-primary-500/20 text-primary-300 border border-primary-500/30;
  }

  .badge-success {
    @apply badge bg-emerald-500/20 text-emerald-300 border border-emerald-500/30;
  }

  .badge-warning {
    @apply badge bg-amber-500/20 text-amber-300 border border-amber-500/30;
  }

  .badge-danger {
    @apply badge bg-red-500/20 text-red-300 border border-red-500/30;
  }

  .badge-gray {
    @apply badge bg-slate-500/20 text-slate-300 border border-slate-500/30;
  }

  /* ==================== TABLE ==================== */
  .table {
    @apply w-full text-sm text-left;
  }

  .table thead {
    @apply bg-slate-800/50 text-slate-400 uppercase text-xs backdrop-blur-sm;
  }

  .table th {
    @apply px-6 py-3.5 font-medium tracking-wider;
  }

  .table td {
    @apply px-6 py-4 border-b border-slate-700/30;
  }

  .table tbody tr {
    @apply hover:bg-slate-700/30 transition-all duration-200;
  }

  /* ==================== SIDEBAR ==================== */
  .sidebar-link {
    @apply flex items-center gap-3 px-4 py-2.5 text-slate-400 rounded-xl transition-all duration-200 hover:bg-slate-700/50 hover:text-white;
  }

  .sidebar-link.active {
    @apply bg-gradient-to-r from-primary-600/20 to-primary-500/10 text-primary-300 border-l-2 border-primary-500 shadow-lg shadow-primary-600/10;
  }

  /* ==================== STAT CARDS ==================== */
  .stat-card {
    @apply card p-6 flex flex-col relative overflow-hidden;
  }

  .stat-card::before {
    content: '';
    @apply absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-white/5 to-transparent rounded-full -translate-y-1/2 translate-x-1/2;
  }

  .stat-value {
    @apply text-3xl font-bold text-white relative;
  }

  .stat-label {
    @apply text-sm text-slate-400 mt-1 relative;
  }

  /* ==================== DROPDOWN ==================== */
  .dropdown {
    @apply absolute right-0 mt-2 w-56 bg-slate-800/95 backdrop-blur-xl border border-slate-700/50 rounded-xl shadow-2xl shadow-black/30 z-50 py-2 animate-slide-down;
  }

  .dropdown-item {
    @apply flex items-center gap-3 px-4 py-2.5 text-sm text-slate-300 hover:bg-slate-700/50 hover:text-white transition-all duration-150 cursor-pointer mx-2 rounded-lg;
  }

  /* ==================== MODAL ==================== */
  /* Performance-optimiert: reduzierter backdrop-blur, GPU-Beschleunigung */
  .modal-overlay {
    @apply fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 animate-fade-in;
    will-change: opacity;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
  }

  .modal {
    @apply bg-slate-800 border border-slate-700/50 rounded-2xl shadow-2xl shadow-black/50 max-w-lg w-full max-h-[90vh] flex flex-col overflow-hidden animate-scale-in;
    will-change: transform, opacity;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
  }

  .modal-header {
    @apply flex items-center justify-between px-6 py-4 border-b border-slate-700/50 flex-shrink-0;
  }

  .modal-body {
    @apply p-6 overflow-y-auto flex-1;
  }

  .modal-footer {
    @apply flex justify-end gap-3 px-6 py-4 border-t border-slate-700/50 bg-slate-900/30 flex-shrink-0;
  }

  /* ==================== GLOW EFFECTS ==================== */
  .glow-blue {
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.3), 0 0 40px rgba(59, 130, 246, 0.1);
  }

  .glow-purple {
    box-shadow: 0 0 20px rgba(168, 85, 247, 0.3), 0 0 40px rgba(168, 85, 247, 0.1);
  }

  .glow-green {
    box-shadow: 0 0 20px rgba(34, 197, 94, 0.3), 0 0 40px rgba(34, 197, 94, 0.1);
  }

  .glow-amber {
    box-shadow: 0 0 20px rgba(245, 158, 11, 0.3), 0 0 40px rgba(245, 158, 11, 0.1);
  }

  /* ==================== GRID BACKGROUND ==================== */
  .bg-grid-white\/5 {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' width='32' height='32' fill='none' stroke='rgb(255 255 255 / 0.05)'%3e%3cpath d='M0 .5H31.5V32'/%3e%3c/svg%3e");
  }

  /* ==================== SHIMMER EFFECT ==================== */
  .shimmer {
    @apply relative overflow-hidden;
  }

  .shimmer::after {
    content: '';
    @apply absolute inset-0 -translate-x-full bg-gradient-to-r from-transparent via-white/10 to-transparent;
    animation: shimmer 2s infinite;
  }

  /* ==================== PULSE DOT ==================== */
  .pulse-dot {
    @apply relative;
  }

  .pulse-dot::before {
    content: '';
    @apply absolute w-2 h-2 bg-emerald-500 rounded-full;
    animation: pulse-dot 2s ease-in-out infinite;
  }

  .pulse-dot::after {
    content: '';
    @apply absolute w-2 h-2 bg-emerald-500 rounded-full;
  }
}

@layer utilities {
  /* ==================== ANIMATIONS ==================== */
  /* GPU-beschleunigte Animationen für flüssige Performance */
  .animate-fade-in {
    animation: fadeIn 0.15s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    will-change: opacity;
  }

  .animate-slide-up {
    animation: slideUp 0.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    will-change: transform, opacity;
  }

  .animate-slide-down {
    animation: slideDown 0.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    will-change: transform, opacity;
  }

  .animate-scale-in {
    animation: scaleIn 0.15s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    will-change: transform, opacity;
  }

  .animate-spin-slow {
    animation: spin 3s linear infinite;
  }

  .animate-bounce-subtle {
    animation: bounceSubtle 2s ease-in-out infinite;
  }

  .animate-glow {
    animation: glow 2s ease-in-out infinite alternate;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translate3d(0, 10px, 0);
    }
    to {
      opacity: 1;
      transform: translate3d(0, 0, 0);
    }
  }

  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translate3d(0, -10px, 0);
    }
    to {
      opacity: 1;
      transform: translate3d(0, 0, 0);
    }
  }

  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale3d(0.95, 0.95, 1);
    }
    to {
      opacity: 1;
      transform: scale3d(1, 1, 1);
    }
  }

  @keyframes shimmer {
    100% {
      transform: translateX(100%);
    }
  }

  @keyframes bounceSubtle {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-5px);
    }
  }

  @keyframes glow {
    from {
      box-shadow: 0 0 10px rgba(59, 130, 246, 0.3);
    }
    to {
      box-shadow: 0 0 20px rgba(59, 130, 246, 0.5), 0 0 40px rgba(59, 130, 246, 0.2);
    }
  }

  @keyframes pulse-dot {
    0%, 100% {
      transform: scale(1);
      opacity: 1;
    }
    50% {
      transform: scale(2);
      opacity: 0;
    }
  }

  /* ==================== TEXT GRADIENT ==================== */
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-primary-400 to-purple-400;
  }

  .text-gradient-gold {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-amber-400 to-yellow-300;
  }

  /* ==================== GLASS ==================== */
  .glass {
    @apply bg-white/5 backdrop-blur-lg border border-white/10;
  }

  .glass-dark {
    @apply bg-slate-900/50 backdrop-blur-lg border border-slate-700/50;
  }

  /* ==================== HOVER LIFT ==================== */
  .hover-lift {
    @apply transition-all duration-300 hover:-translate-y-1 hover:shadow-xl;
  }

  /* ==================== FOCUS RING ==================== */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500/50 focus:ring-offset-2 focus:ring-offset-slate-900;
  }
}
